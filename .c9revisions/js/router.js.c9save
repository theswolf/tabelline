{"ts":1360930035733,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Filename: router.js\r\ndefine([\r\n  'jquery',\r\n  'underscore',\r\n  'backbone',\r\n  'views/game/Header',\r\n  'views/game/ProgressBar',\r\n  'views/game/Board',\r\n  'views/game/QuestionView',\r\n  'views/score/ScoreView'\r\n // 'views/game/QuestionBox'\r\n  //'views/projects/ProjectsView',\r\n  //'views/contributors/ContributorsView',\r\n  //'views/footer/FooterView'\r\n], function($, _ , Backbone,Header,ProgressBar,Board,QuestionView,ScoreView\r\n  //, ProgressBar\r\n  ) {\r\n\tApprouter = {};\r\n\t Approuter.numCellInRow = 10;\r\n     Approuter.timeoutPbar = 1800;\r\n     Approuter.history = [];\r\n     Approuter.numQuestion = 40;\r\n     Approuter.count = 0;\r\n     \r\n\tvar Router = Backbone.Router.extend( { \r\n    initialize: function() {\r\n      Backbone.history.start();\r\n      //this.home();\r\n      \r\n    },\r\n\r\n    routes: {\r\n\r\n            // When there is no hash bang on the url, the home method is called\r\n            \"\": \"home\",\r\n            \"score\":\"score\"\r\n\r\n        },\r\n\r\n    home: function() {\r\n\r\n           var header = new Header({el:\"#header_container\",evn:\"gameStarted\",label:\"Start\"});\r\n           var question = new QuestionView({el:\"#question\"});\r\n           var pbar = new ProgressBar({el:\"#progressbar\"});\r\n           var board = new Board({el:\"#board\"});\r\n           \r\n           pbar.colorize('green');\r\n          \r\n//           var sbar = new ProgressBar({el:\"#successbar\"});\r\n//           sbar.render(0);\r\n           Approuter.router = this;\r\n           Approuter.header = header;\r\n           Approuter.question = question;\r\n           Approuter.pbar = pbar;\r\n           Approuter.board = board;\r\n           \r\n           \r\n           header.on('gameStarted',pbar.timeoutinit);\r\n           header.on('gameStarted',board.start);\r\n           header.on('gameStarted',question.reset);\r\n           header.on('gameStarted',question.nextquestion);\r\n        \r\n           \r\n           header.on('gameStarted',function(){ $('#header').show(); });\r\n           pbar.on('gameEnded', header.enableGaming);\r\n           pbar.on('gameEnded', board.stop);\r\n           pbar.on('gameEnded', Approuter.router.score);\r\n    \r\n           \r\n          // window.app_router.navigate('new', true)\r\n           board.on('responseGiven',question.setresponse);\r\n           board.on('responseGiven',question.nextquestion);\r\n          \r\n           \r\n\r\n           //pbar.setSelf();\r\n           //this.binder(this,'gameEnded',header.enableGaming);\r\n           //this.binder(header,'gameStarted', this.countdown_init);\r\n           \r\n        },\r\n    \r\n    score: function() {\r\n    \t \tvar header = new Header({el:\"#header_score_container\",evn:\"gameBack\",label:\"New Game\"});\r\n    \t\tvar score = new ScoreView({el:\"#scoreboard\"});\r\n    \t\t\r\n        \t$.mobile.changePage( \"#score\" ,{ reverse: false, changeHash: false } );\r\n    \t\t//header.on('gameBack',location.reload );\r\n        \t\r\n        }\r\n\r\n\r\n  });\r\n\r\n  return Router;\r\n\r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2883}]],"length":2883}
{"contributors":[],"silentsave":false,"ts":1363090943178,"patch":[[{"diffs":[[0,"\n     \r\n"],[1,"     Label = {};\r\n     \r\n"],[0,"\tvar Rou"]],"start1":632,"start2":632,"length1":16,"length2":41},{"diffs":[[0,",label:\""],[-1,"Start"],[1,"Inizia"],[0,"\"});\r\n  "]],"start1":1080,"start2":1080,"length1":21,"length2":22},{"diffs":[[0,"el:\""],[-1,"New Game"],[1,"Gioca ancora"],[0,"\"});"]],"start1":2638,"start2":2638,"length1":16,"length2":20}]],"length":2913,"saved":false}
{"ts":1363091166186,"patch":[[{"diffs":[[0," = {};\r\n"],[1,"     Label.time = \"3 minuti - 40 domande\";\r\n"],[0,"     \r\n\t"]],"start1":650,"start2":650,"length1":16,"length2":60}]],"length":2957,"saved":false}
{"ts":1363091244463,"patch":[[{"diffs":[[0,"ande\";\r\n"],[1,"     Label.playAgain = \"Gioca ancora\";\r\n"],[0,"     \r\n\t"]],"start1":694,"start2":694,"length1":16,"length2":56},{"diffs":[[0,"\",label:"],[-1,"\"Gioca ancora\""],[1,"Label.playAgain"],[0,"});\r\n   "]],"start1":2717,"start2":2717,"length1":30,"length2":31}]],"length":2998,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363091807401,"patch":[[{"diffs":[[0,"a ancora\";\r\n"],[1,"     Label.start = \"Inizia\";\r\n"],[0,"     \r\n\tvar "]],"start1":730,"start2":730,"length1":24,"length2":54},{"diffs":[[0,"\",label:"],[-1,"\"Inizia\""],[1,"Label.start"],[0,"});\r\n   "]],"start1":1193,"start2":1193,"length1":24,"length2":27}]],"length":3031,"saved":false}
{"ts":1363091859424,"patch":[[{"diffs":[[0," \"Inizia\";\r\n"],[1,"     Label.appname = \"Tabelline\";\r\n"],[0,"     \r\n\tvar "]],"start1":760,"start2":760,"length1":24,"length2":59}]],"length":3066,"saved":false}
{"ts":1363092151372,"patch":[[{"diffs":[[0,"abelline\";\r\n"],[1,"     Label.finished = \"Finito...\";\r\n"],[0,"     \r\n\tvar "]],"start1":795,"start2":795,"length1":24,"length2":60}]],"length":3102,"saved":false}
{"ts":1363092667368,"patch":[[{"diffs":[[0,"abelline"],[1,"WOW"],[0,"\";\r\n    "]],"start1":795,"start2":795,"length1":16,"length2":19}]],"length":3105,"saved":false}
{"ts":1363092682791,"patch":[[{"diffs":[[0,"line"],[-1,"WOW"],[0,"\";\r\n"]],"start1":799,"start2":799,"length1":11,"length2":8}]],"length":3102,"saved":false}
